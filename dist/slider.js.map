{"version":3,"file":null,"sources":["/home/anton/Projects/web/slider/src/Base.js","/home/anton/Projects/web/slider/src/Touch.js","/home/anton/Projects/web/slider/src/Carousel.js","/home/anton/Projects/web/slider/src/AjaxSlider.js","/home/anton/Projects/web/slider/src/PageSlider.js","/home/anton/Projects/web/slider/src/ResponsiveSlider.js","/home/anton/Projects/web/slider/index.js"],"sourcesContent":["/*\n* html structure:\n*   .slider\n*     .slider-wrap\n*       div\n*       div\n*       div\n*\n* parameters:\n*   container - html node\n*   options - slider options\n*\n*/\n\nimport _ from \"underscore\";\n\n// check browser capabilities\nconst browser = {\n  addEventListener: !!window.addEventListener,\n  touch: ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch,\n  isSafari: /^((?!chrome|android).)*safari/i.test(navigator.userAgent),\n  transforms: ((temp) => {\n    const props = ['transform', 'msTransform', 'MozTransform', 'OTransform', 'WebkitTransform'];\n    for (let i in props){\n      if (temp.style[props[i]] !== undefined){\n        return true;\n      }\n    }\n    return false;\n  })(document.createElement('swipe'))\n};\n// console.log(\"Browser Transform Support:\", browser.transforms);\n\n\n// CustomEvent Constructor Shim for IE9\nfunction CustomEvent ( event, params ) {\n  params = params || { bubbles: false, cancelable: false, detail: undefined };\n  let evt = document.createEvent( 'CustomEvent' );\n  evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n  return evt;\n}\nCustomEvent.prototype = window.Event.prototype;\n\n\n// Slider Base Module\nexport class BaseSlider {\n  constructor(container, options) {\n    this.container = container;\n    this.options = options;\n    this.index = 0;\n\n    // set up self-referencing members\n    this.element = this.container.children[0];\n    this.slides = this.element.children;\n    this.length = this.slides.length;\n    this.width = this.container.offsetWidth;\n    this.browser = browser;\n\n    // update width\n    window.addEventListener(\"resize\", _.throttle(() => this.width= window.innerWidth, 180));\n\n    // sanity check\n    // if(this.width === 0){\n    //   console.error(\"Slider Error: Container width is 0. The Element should not be hidden!\");\n    // }\n  }\n\n  update(trigger = false) {\n    this.slides = this.element.children;\n    this.length = this.slides.length;\n    this.index = Math.max(Math.min(this.index, this.length - 1), 0);\n    if(trigger)\n      this.triggerUpdate();\n  }\n\n  // animate to index\n  animate(to, time) {\n    this.index = to;\n    this.translate(0, time);\n    this.triggerUpdate();\n  }\n\n  // create DOM CustomEvent\n  triggerUpdate() {\n    let detail = _.extend({\n      index: this.index,\n      length: this.length,\n      left: (this.index === 0),\n      right: (this.index === this.length-1)\n    }, this.getUpdateParameters ? this.getUpdateParameters() : undefined);\n    let event = new CustomEvent(\"update\", {detail});\n    this.container.dispatchEvent(event);\n  }\n\n  // unimplemented translate(diff, time)\n  translate(){}\n\n  goTo(to) {\n    if (to >= 0 && to < this.length) {\n      this.animate(+to, this.options.transitionTime);\n    } else if(this.options.endless) {\n      to = (+to + this.length) % this.length;\n      this.animate(to, this.options.transitionTime);\n    }\n  }\n\n  next() {\n    this.goTo(this.index+1);\n  }\n\n  prev() {\n    this.goTo(this.index-1);\n  }\n}\n","// adds touch events to slider object\nlet addTouch= function(that){\n\n  // event lets\n  let start = {};\n  let delta = {};\n  let isScrolling;\n\n  let onStart= function(event){\n    let touches = event.touches[0];\n\n    // initial position and time\n    start = {\n      x: touches.pageX,\n      y: touches.pageY,\n      time: +new Date()\n    };\n\n    // used for testing first move event\n    isScrolling = undefined;\n\n    // reset delta and end measurements\n    delta = {\n      x: 0,\n      y: 0\n    };\n\n    // attach touchmove and touchend listeners\n    that.element.addEventListener('touchmove', that.handleTouch, false);\n    that.element.addEventListener('touchend', that.handleTouch, false);\n  };\n\n  let onMove= function(event){\n    // ensure swiping with one touch and not pinching\n    if ( event.touches.length > 1 || event.scale && event.scale !== 1){ return; }\n\n    let touches = event.touches[0];\n\n    // measure change in x and y\n    delta = {\n      x: touches.pageX - start.x,\n      y: touches.pageY - start.y\n    };\n\n    // determine if scrolling test has run - one time test\n    if ( typeof isScrolling === 'undefined') {\n      isScrolling = !!( isScrolling || Math.abs(delta.x) < Math.abs(delta.y) );\n    }\n\n    // if user is not trying to scroll vertically\n    if (!isScrolling) {\n\n      // prevent native scrolling\n      event.preventDefault();\n\n      // increase resistance if first or last slide\n      delta.x =\n      delta.x /\n      ( (!that.index && delta.x > 0 ||         // if first slide and sliding left\n        that.index === length - 1 &&    // or if last slide and sliding right\n        delta.x < 0                      // and if sliding at all\n      ) ?\n      ( Math.abs(delta.x) / that.width + 1 )   // determine resistance level\n      : 1 );                              // no resistance if false\n\n      // translate 1:1\n      that.translate(delta.x, 0);\n    }\n  };\n\n  let onEnd= function(){\n    let duration = +new Date() - start.time;\n\n    // determine if slide attempt triggers next/prev slide\n    let isValidSlide =\n    Number(duration) < 250 &&         // if slide duration is less than 250ms\n    Math.abs(delta.x) > 20 ||        // and if slide amt is greater than 20px\n    Math.abs(delta.x) > that.width/2;     // or if slide amt is greater than half the width\n\n    // determine if slide attempt is past start and end\n    let isPastBounds =\n    !that.index && delta.x > 0 ||                      // if first slide and slide amt is greater than 0\n    that.index === that.length - 1 && delta.x < 0;   // or if last slide and slide amt is less than 0\n\n    // if not scrolling vertically\n    if (!isScrolling) {\n      if (isValidSlide && !isPastBounds) {\n        //determine direction\n        if(delta.x < 0){\n          that.animate(that.index +1, that.options.transitionTime);\n        }else{\n          that.animate(that.index -1, that.options.transitionTime);\n        }\n\n        // snap back to current slide\n      }else{\n        that.animate(that.index, that.options.transitionTime);\n      }\n    }\n\n    // kill touchmove and touchend event listeners until touchstart called again\n    that.element.removeEventListener('touchmove', that.handleTouch, false);\n    that.element.removeEventListener('touchend', that.handleTouch, false);\n  };\n\n  // setup event capturing\n  that.handleTouch= function(event){\n    switch (event.type) {\n      case 'touchstart': onStart(event); break;\n      case 'touchmove': onMove(event); break;\n      case 'touchend': onEnd(event); break;\n    }\n  };\n\n  // Create Event listener\n  if(that.browser.addEventListener && that.browser.touch){\n    that.element.addEventListener('touchstart', that.handleTouch, false);\n  }\n\n  return that;\n};\n\n// unbinds touch event handlers and removes touch property\nlet removeTouch= function(that){\n  if(that.browser.addEventListener && that.browser.touch){\n    that.element.removeEventListener('touchstart', that.handleTouch, false);\n  }\n\n  delete that.handleTouch;\n  return that;\n};\n\nexport {addTouch as add};\nexport {removeTouch as remove};\n","import _ from \"underscore\";\nimport {BaseSlider} from \"./Base\";\nimport {add as addTouch} from \"./Touch\";\n\nclass Carousel extends BaseSlider {\n  constructor(container, config) {\n\n    // default config values\n    var options= _.extend({\n      transitionTime: 0.5,\n      disableScroll: true\n    }, config);\n\n    super(container, options);\n    // addTouch(this);\n    this.updateWidths();\n\n    let style = this.element.style;\n    style.webkitBackfaceVisibility =\n    style.msBackfaceVisibility =\n    style.mozBackfaceVisibility =\n    style.backfaceVisibility = \"hidden\";\n\n    // show first slide\n    this.active = {};\n    if (this.length > 0) {\n      this.active = {index: this.index, slide: this.slides[this.index]};\n      this.active.slide.style.opacity = \"1\";\n      this.active.slide.style.zIndex = \"5\";\n    }\n\n    this.triggerUpdate();\n    container.style.visibility = \"visible\";\n  }\n\n  updateWidths() {\n    // scale parent element\n    this.element.style.width = (this.length * 100) + \"%\";\n\n    // scale slide elements\n    for(let i = 0; i < this.length; i++) {\n      this.slides[i].style.width= (100 / this.length) + \"%\";\n\n      if (this.browser.transforms && !this.browser.isSafari) {\n        this.slides[i].style.transform = `translate3d(-${(i * 100)}%, 0, 0)`;\n      } else {\n        this.slides[i].style.left = -(i * 100 / this.length) + \"%\";\n      }\n    }\n  }\n\n  update() {\n    super.update();\n    // this.updateWidths();\n  }\n\n  // create animation function\n  // @override moves the slider to current index + offset\n  translate(diff, time) {\n    if (this.index == this.active.index)\n      return;\n\n    // prepare next slide\n    const current = this.active.slide;\n    const next = this.slides[this.index];\n    TweenLite.to(next, 0, {zIndex: 5, opacity: 0});\n\n    const hideCurrent = function() {\n      if (current){\n        current.style.zIndex = \"\";\n        current.style.opacity = \"\";\n      }\n\n      this.active = {slide: next, index: this.index};\n    }.bind(this)\n\n    // on transition end, layer next slide on top\n    TweenLite.to(next, time, {\n      opacity: 1,\n      overwrite: \"none\",\n      onComplete: hideCurrent\n    });\n  }\n}\n\nexport {Carousel}\n","/* eslint-disable */\nimport _ from \"underscore\";\nimport {BaseSlider} from \"./Base\";\nimport {add as addTouch} from \"./Touch\";\n\n// Single Element Slider\nclass AjaxSlider extends BaseSlider{\n  constructor(container, config){\n    // default config values\n    let options= _.extend({\n      transitionTime: 0.7,\n      disableScroll: false,\n      endless: true,\n      template: \"\",\n      index: 0,\n    }, config);\n\n    super(container, options);\n    addTouch(this);\n\n    // get Slide Data\n    let slides= window[$(this.element).data(\"let\")];\n    if(!slides){\n      return console.error(\"data-let not defined on slider-wrap\");\n    }\n\n    // Render Slide Items\n    if(options.template === \"\"){\n      return console.error(\"slider item template not specified\");\n    }\n\n    let sliderHTML= \"\";\n    for(let i=0; i < slides.length; i++){\n      sliderHTML+= \"<li>\";\n      if(i !== options.index){\n        slides[i].partial= true;\n      }else{\n        slides[i].partial= false;\n        sliderHTML+= options.template(slides[i]);\n      }\n      slides[i].position= -1;\n      sliderHTML+=\"</li>\";\n    }\n\n    this.element.innerHTML= sliderHTML;\n    this.slides= this.element.children;\n    this.length= this.slides.length;\n  }\n\n  // complete slide at index if partial\n  loadSlide(index){\n    if(index>0 && index<this.length && slides[index].partial){\n      slides[index].partial= false;\n      this.slides[index].innerHTML= options.template(slides[index]);\n      console.log(\"loading\", index);\n    }\n  }\n\n  positionSlide(i, current, time, diff){\n    // left\n    if(i < current && (i !== 0 || current !== this.length-1) ||\n       i > current && (i === this.length-1 && current === 0)){\n      this.slides[i].position= -1;\n    // middle\n    }else if(i === current){\n      this.slides[i].position= 0;\n    // right\n    }else{\n      this.slides[i].position= 1;\n    }\n\n    let pos= -((i-this.slides[i].position)*100/this.length);\n    if(this.browser.transforms){\n      let absolutePos= this.width*pos*this.length/100;\n      return TweenLite.to(this.slides[i], time, {x: absolutePos + diff, onComplete: function(){\n        animating= null;\n      }});\n    }else{\n      return TweenLite.to(this.slides[i], time, {left: pos + \"%\", onComplete: function(){\n        animating= null;\n      }});\n    }\n  }\n\n  // TODO: port to new classes\n  // //apply initial styles\n  // for(let i=0; i<this.length; i++){\n  //   positionSlide(i, options.index, 0, 0);\n  // }\n  //\n  // // @override animation function\n  // this.animate= function(to, time){\n  //   let direction= 0;\n  //   if((to > this.index && (this.index !== 0 || to !== this.length-1)) ||\n  //      (to < this.index && (this.index === this.length-1 && to === 0))){\n  //     direction= 1;\n  //   }else{\n  //     direction= -1;\n  //   }\n  //\n  //   loadSlide(to);\n  //   this.translate(0, time, direction);\n  //\n  //   this.index= to;\n  //   this.container.trigger(\"update\", {\n  //     index: this.index,\n  //     length: this.length,\n  //     left: (this.index === 0),\n  //     right: (this.index === this.length-1)\n  //   });\n  // };\n  //\n  // let parseTransformMatrix= function(string){\n  //   let inner= string.match(/\\((.*)\\)/)[1];\n  //   let parsed= inner.split(\",\");\n  //   for(let i=0; i<parsed.length; i++){\n  //     parsed[i]= Number(parsed[i]);\n  //   }\n  //   return parsed;\n  // }\n  //\n  // // @override translate: moves the slider to current index + offset\n  // this.translate = function(diff, time, direction){\n  //   direction= direction || Math.sign(diff);\n  //   let index= this.index;\n  //   let nextIndex= (index + direction + this.length) % this.length;\n  //\n  //   if(animating){\n  //     let pos= -this.width*index;\n  //     let val= parseTransformMatrix(this.slides[index].style.transform)[4];\n  //\n  //     console.log(\"still animating next\", animating.tween.duration()- animating.tween.time());\n  //     positionSlide(animating.prev, animating.next, 0, 0);\n  //     positionSlide(nextIndex, index, 0, (val-pos)*0.5);\n  //\n  //   }else if(this.slides[nextIndex].position !== direction){\n  //     positionSlide(nextIndex, index, 0, 0);\n  //   };\n  //\n  //\n  //\n  //   positionSlide(index, nextIndex, time, diff);\n  //   let ref= positionSlide(nextIndex, nextIndex, time, diff);\n  //\n  //   if(time !== 0){\n  //     animating= {\n  //       prev: index,\n  //       next: nextIndex,\n  //       direction: direction,\n  //       tween: ref\n  //     }\n  //   }\n  // };\n  //\n  // // scale parent element\n  // this.element.style.width= (this.length * 100) + \"%\";\n  //\n  // // scale slide elements\n  // for(let i=0; i < this.length; i++){\n  //   let s= $(this.slides[i]);\n  //   s.width((100 / this.length) + \"%\");\n  // }\n  //\n  // let style= this.element.style;\n  // style.webkitBackfaceVisibility=\n  // style.msBackfaceVisibility=\n  // style.mozBackfaceVisibility=\n  // style.backfaceVisibility= \"hidden\";\n  //\n  // // keep translation constant on resize\n  // $(window).resize(function(){\n  //   this.width= this.container.width();\n  //   for(let i=0; i<this.length; i++){\n  //     positionSlide(i, this.index, 0, 0);\n  //   }\n  // });\n  //\n  // this.container.trigger(\"update\", {\n  //   index: this.index,\n  //   length: this.length,\n  //   left: (this.index === 0),\n  //   right: (this.index === this.length-1)\n  // });\n  //\n  // container.style.visibility= \"visible\";\n  //\n  // return this;\n}\n\nexport {AjaxSlider};\n","import _ from \"underscore\";\nimport {BaseSlider} from \"./Base\";\nimport {add as addTouch} from \"./Touch\";\n\n// Multi Element Slider -> page Slider\nclass PageSlider extends BaseSlider{\n  constructor(container, config){\n\n    // default config values\n    let options= _.extend({\n      transitionTime: 0.7,\n      disableScroll: false,\n      breakpoints: [0, 480, 1050, 1200, 1600],\n      pages: [1, 2, 3, 4, 5],\n      pageGutter: 8, //percentage Value\n      verticalBreakpoints: [0, 500],\n      verticalPages: [1, 2],\n      verticalPageGutter: 2,\n      endless: false,\n    }, config);\n\n    super(container, options);\n    addTouch(this);\n\n    this.pageElements= 0;\n    this.containerWidth= container.offsetWidth;\n    this.containerHeight= container.offsetHeight;\n\n    let style= this.element.style;\n    style.webkitBackfaceVisibility =\n    style.msBackfaceVisibility =\n    style.mozBackfaceVisibility =\n    style.backfaceVisibility = \"hidden\";\n\n    // keep translation constant on resize\n    let debounced= _.debounce(this.updatePages, 150).bind(this);\n    window.addEventListener(\"resize\", function(){\n      this.translate(0,0);\n      debounced();\n    }.bind(this));\n\n    this.updatePages();\n    container.style.visibility = \"visible\";\n  }\n\n  update(vertical, index){\n    super.update();\n    this.updatePages(true, vertical, index);\n  }\n\n  // create animation function\n  // @override moves the slider to current index + offset\n  translate(diff, time){\n    if(this.browser.transforms){\n      let dynamicValue= \"0%\",\n      dynamicProperty= this.vertical ? \"yPercent\" : \"xPercent\",\n      staticProperty= this.vertical ? \"x\" : \"y\";\n      if(this.length > 0){\n        dynamicValue= -(100/this.length * this.index) + \"%\";\n      }\n      TweenLite.to(this.element, time, {\n        [dynamicProperty]: dynamicValue,\n        [staticProperty]: 0,\n        ease: Power3.easeOut\n      });\n    }else{\n      let dynamicProperty= this.vertical ? \"top\" : \"left\";\n      let staticProperty= this.vertical ? \"left\" : \"top\";\n      TweenLite.to(this.element, time, {\n        [dynamicProperty]: -(100 * this.index) + \"%\",\n        [staticProperty]: 0,\n        ease: Power3.easeOut\n      });\n    }\n  }\n\n  getUpdateParameters(){\n    return {\n      pageSize: this.pageElements\n    };\n  }\n\n  getPageElementCount(){\n    let size= this[this.vertical ? \"containerHeight\" : \"containerWidth\"],\n    breakpoints= this.options[this.vertical ? \"verticalBreakpoints\" : \"breakpoints\"],\n    pages= this.options[this.vertical ? \"verticalPages\" : \"pages\"];\n\n    for(let i= breakpoints.length; i >= 0; i--){\n      if(size >= breakpoints[i]){\n        return pages[i];\n      }\n    }\n  }\n\n  updatePages(reset, vertical, index){\n    this.containerWidth= this.container.offsetWidth;\n    this.containerHeight= this.container.offsetHeight;\n\n    let saveIndex= this.pageElements * (index || this.index);\n    let newPageElements= this.getPageElementCount();\n    vertical= vertical === undefined ? this.vertical : vertical;\n\n    // don't reposition Elements if not necessary\n    if(!reset && newPageElements === this.pageElements && vertical === this.vertical){\n      return;\n    }\n\n    this.pageElements= newPageElements;\n    this.length= Math.ceil(this.slides.length / this.pageElements);\n    this.index= Math.floor(Math.min(saveIndex, this.slides.length - 1) / this.pageElements);\n\n    let dynamicProperty= vertical ? \"height\" : \"width\",\n    staticProperty= vertical ? \"width\" : \"height\",\n    gutter= this.options[vertical ? \"verticalPageGutter\" : \"pageGutter\"],\n    dynamicValue= \"0%\",\n    border= 0;\n\n    // scale parent element\n    this.element.style[dynamicProperty]= (this.length * 100) + \"%\";\n    this.element.style[staticProperty]= \"100%\";\n\n    // scale slide elements\n    if(this.length){\n      dynamicValue= (100 - gutter * 2) / (this.length * this.pageElements) + \"%\";\n    }\n    for(let i= 0; i<this.slides.length; i++){\n      let slide= this.slides[i];\n      slide.style[dynamicProperty]= dynamicValue;\n      slide.style[staticProperty]= \"100%\";\n\n      if(vertical){\n        let currentBorder;\n        if(i === 0){\n          border+= gutter / this.length;\n        }else if(i % this.pageElements === 0){\n          border+= (gutter / this.length) * 2;\n        }\n        slide.style.top= border + \"%\";\n      }else{\n        if(i === 0){\n          slide.style.marginLeft= gutter / this.length + \"%\";\n        }else if(i % this.pageElements === 0){\n          slide.style.marginLeft= (gutter / this.length) * 2 + \"%\";\n        }else{\n          slide.style.marginLeft= \"\";\n        }\n      }\n    }\n    this.vertical= vertical;\n    this.translate(0, 0);\n    this.triggerUpdate({pageSize: this.pageElements});\n  }\n}\n\nexport {PageSlider}\n","import _ from \"underscore\";\nimport {BaseSlider} from \"./Base\";\nimport {add as addTouch} from \"./Touch\";\n\n// Single Element Slider\nclass ResponsiveSlider extends BaseSlider{\n  constructor(container, config){\n\n    // default config values\n    let options= _.extend({\n      transitionTime: 0.7,\n      disableScroll: false,\n      endless: true,\n    }, config);\n\n    super(container, options);\n    addTouch(this);\n\n    this.updateWidths();\n\n    let style= this.element.style;\n    style.webkitBackfaceVisibility =\n    style.msBackfaceVisibility =\n    style.mozBackfaceVisibility =\n    style.backfaceVisibility = \"hidden\";\n\n    this.triggerUpdate();\n    container.style.visibility = \"visible\";\n  }\n\n  updateWidths(){\n    // scale parent element\n    this.element.style.width= (this.length * 100) + \"%\";\n\n    // scale slide elements\n    for(let i=0; i<this.length; i++){\n      this.slides[i].style.width= (100 / this.length) + \"%\";\n    }\n  }\n\n  update(){\n    super.update();\n    this.updateWidths();\n  }\n\n  // create animation function\n  // @override moves the slider to current index + offset\n  translate(diff, time){\n    if(this.browser.transforms){\n      let relativeDiff= diff !== 0 ? this.width / diff : 0;\n      TweenLite.to(this.element, time, {xPercent: -(100 / this.length * (this.index + relativeDiff)) + \"%\", ease:Power3.easeOut});\n    }else{\n      TweenLite.to(this.element, time, {left: -(100 * this.index) + \"%\", ease:Power3.easeOut});\n    }\n  }\n}\n\nexport {ResponsiveSlider}\n","// needs TweenLite with cssplugin\nimport TweenLite from \"gsap/src/uncompressed/TweenLite\";\nimport CSSPlugin from \"gsap/src/uncompressed/plugins/CSSPlugin\";\n\nexport {BaseSlider} from \"./src/Base\";\nexport {Carousel} from \"./src/Carousel\";\nexport {AjaxSlider} from \"./src/AjaxSlider\";\nexport {PageSlider} from \"./src/PageSlider\";\nexport {ResponsiveSlider} from \"./src/ResponsiveSlider\";\n"],"names":["browser","window","addEventListener","DocumentTouch","document","test","navigator","userAgent","temp","props","i","style","undefined","createElement","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","prototype","Event","BaseSlider","container","options","index","element","children","slides","length","width","offsetWidth","_","throttle","innerWidth","trigger","Math","max","min","triggerUpdate","to","time","translate","extend","getUpdateParameters","dispatchEvent","animate","transitionTime","endless","goTo","addTouch","that","start","delta","isScrolling","onStart","touches","pageX","pageY","Date","handleTouch","onMove","scale","x","y","abs","preventDefault","onEnd","duration","isValidSlide","Number","isPastBounds","removeEventListener","type","touch","Carousel","config","updateWidths","webkitBackfaceVisibility","msBackfaceVisibility","mozBackfaceVisibility","backfaceVisibility","active","slide","opacity","zIndex","visibility","transforms","isSafari","transform","left","diff","current","next","hideCurrent","bind","AjaxSlider","$","data","console","error","template","sliderHTML","partial","position","innerHTML","log","pos","absolutePos","TweenLite","onComplete","PageSlider","pageElements","containerWidth","containerHeight","offsetHeight","debounced","debounce","updatePages","vertical","dynamicValue","dynamicProperty","staticProperty","Power3","easeOut","size","breakpoints","pages","reset","saveIndex","newPageElements","getPageElementCount","ceil","floor","gutter","border","currentBorder","top","marginLeft","pageSize","ResponsiveSlider","relativeDiff","xPercent","ease"],"mappings":"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"}